{% extends "base.html.jinja2" %}
{% block main_content %}
<article>
<h2>Search for others with similar interests</h2>
<p>Search for books and articles already subscribed to by others:</p><br />
<div class="search-container">
  <form action="/search" method="get">
    <input type="text" name="s" placeholder="Title, authorâ€¦" {% if search_value %} value="{{ search_value }}" {% endif %}>
    <button type="subscribe">Search</button>
  </form>
</div>
{% if results %}
{% if search_value == '' %}
<p id="search-results">{{ results | length }} most recent documents:</p>
{% endif %}
<table>
  <tr>
    <th>Title</th>
    <th>ID</th>
    <th>Author(s)</th>
    <th>Subscribers</th>
  </tr>
  {% for result in results %}
  <tr>
    <td>{{ result[0] }}</td>
    <td>{{ result[1] }}</td>
    <td>{{ result[2] }}</td>
    <td>{{ result[3] }}</td>
  </tr>
  {% endfor %}
</table>
{% endif %}
</article>
{% endblock %}
